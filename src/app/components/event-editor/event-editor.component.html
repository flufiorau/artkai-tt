<div class="event-editor__block"
     [class.event-editor__block_reverse-position]="revertCSSPosition"
     [class.event-editor__block_upper-position]="upperCSSPosition">
  <span class="event-editor__triangle"
        [class.triangle_reverse-position]="revertCSSPosition"
        [class.triangle_upper-position]="upperCSSPosition"
        [class.triangle]="!revertCSSPosition && !revertCSSPosition">▶</span>
  <span class="event-editor__closer"
        (click)="closeEventEditorForm()">+</span>
  <form [formGroup]="eventEditorFormControl">
    <ng-container *ngIf="calendarEvent; else createEvent">
      <p class="event-editor__title"><b>{{calendarEvent.title}}</b></p>
      <p class="event-editor__date">{{calendarEvent.date| date: 'd, MMMM'}}</p>
      <p class="event-editor__members">Участники: <br>{{calendarEvent.members}}</p>
      <textarea class="event-editor__textarea textarea event-editor__description" name="eventDescription"
                placeholder="Описание" [disabled]="true">{{calendarEvent.description}}</textarea>
    </ng-container>
    <ng-template #createEvent>
      <label>
        <input type="text" class="event-editor__input input" name="title"
               placeholder="Событие"
               formControlName="title">
      </label>

      <label>
        <input type="text" class="event-editor__input input"
               placeholder="День, месяц, год"
               value="{{eventEditorFormControl.controls['eventDate'].value | date: 'dd,MM,yyyy'}}"
               name="eventDate" [attr.disabled]="true">
      </label>
      <label>
        <input type="text" class="event-editor__input input" name="eventMembers"
               placeholder="Участники"
               formControlName="eventMembers">
      </label>
      <ng-container *ngIf="eventEditorFormControl.controls['title'].invalid">
        <p class="form-error" *ngIf="eventEditorFormControl.controls['title'].dirty">
          {{getErrorMessage('title')}}
        </p>
      </ng-container>
      <label>
      <textarea class="event-editor__textarea textarea textarea-input" name="eventDescription"
                placeholder="Описание"
                formControlName="eventDescription"></textarea>
      </label>
    </ng-template>
    <button type="submit" class="event-editor__button button"
            [disabled]="eventEditorFormControl.invalid"
            (click)="addNewEventToBase()">Готово
    </button>
    <button type="button" class="event-editor__button button"
            [disabled]="!calendarEvent"
            (click)="deleteCurrentEvent()">Удалить
    </button>

  </form>
</div>

